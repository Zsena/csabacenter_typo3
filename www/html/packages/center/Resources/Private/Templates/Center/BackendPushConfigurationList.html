{namespace core = TYPO3\CMS\Core\ViewHelpers}
<f:be.container>
    <div class="module-body t3js-module-body" style="padding-top: 89px;">
        <f:be.pagePath/>
        <br>
        <f:be.menus.actionMenu>
            <f:be.menus.actionMenuItem label="Center Push Configuration"
                                       controller="Center"
                                       action="backendPushConfigurationList"/>
            <f:be.menus.actionMenuItem label="Push Notification List"
                                       controller="PushNotification"
                                       action="list"/>
        </f:be.menus.actionMenu>
        <br>
        <f:format.raw>{messages}</f:format.raw>
        <f:if condition="{centers}">
            <f:then>

                <h1 class="t3js-title-inlineedit">
                    Center Push Server Config:
                </h1>
                <div class="panel panel-default recordlist">
                    <div class="panel-heading">
                        Centers
                        (<span class="t3js-table-total-items"><f:count>{centers}</f:count></span>)
                    </div>
                    <div class="collapse in" data-state="expanded">
                        <div class="table-fit">
                            <table data-table="tx_center_domain_model_center"
                                   class="table table-striped table-hover">

                                <f:for each="{centers}" as="center">
                                    <tbody>
                                    <f:form object="{center}" objectName="updatedCenter" action="update">
                                        <tr class="t3js-entity firstcol lastcol">
                                            <td class="col-icon nowrap">
                                        <span class="t3js-icon icon icon-size-small icon-state-default icon-tcarecords-tx_center_domain_model_pushnotification-default">
                                        </span>
                                            </td>
                                            <td class="col-title col-responsive nowrap">
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <strong>
                                                                {center.shortName}: {center.centerName}
                                                            </strong>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td class="col-clipboard nowrap">
                                                <table>
                                                    <tr>
                                                        <th>Topic</th>
                                                        <th>Key</th>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <f:form.textfield property="pushServerIosTopic" />
                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                        </td>
                                                        <td>
                                                            <f:form.textfield property="pushServerIosAuthorizationKey" />
                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td class="col-clipboard nowrap">
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-default dropdown-toggle" type="submit">
                                                        Update
                                                        <img src="/typo3/sysext/core/Resources/Public/Icons/T3Icons/actions/actions-document-save.svg"
                                                             width="16" height="16">
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </f:form>
                                    </tbody>
                                </f:for>
                            </table>
                        </div>
                    </div>
                </div>
            </f:then>
        </f:if>
    </div>
</f:be.container>
