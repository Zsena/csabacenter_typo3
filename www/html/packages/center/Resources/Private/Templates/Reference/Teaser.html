<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:if condition="{settings.hometeaser.sliderspeed}">
  <f:switch expression="{settings.hometeaser.sliderspeed}">
    <f:case value="slow">
      <f:variable name="carousel-options"
                  value='{"loop":"true","margin":0,"autoplay":"true","autoplayHoverPause":"true","autoplayTimeout":8000,"autoplaySpeed":500,"navSpeed":800,"dotsSpeed":800}'
      />
    </f:case>
    <f:case value="medium">
      <f:variable name="carousel-options"
                  value='{"loop":"true","margin":0,"autoplay":"true","autoplayHoverPause":"true","autoplayTimeout":7000,"autoplaySpeed":500,"navSpeed":800,"dotsSpeed":800}'
      />
    </f:case>
    <f:case value="fast">
      <f:variable name="carousel-options"
                  value='{"loop":"true","margin":0,"autoplay":"true","autoplayHoverPause":"true","autoplayTimeout":3200,"autoplaySpeed":650,"navSpeed":650,"dotsSpeed":450}'
      />
    </f:case>
  </f:switch>
</f:if>
<section id="{settings.hometeaser.headline -> v:format.sanitizeString()}" class="js-anchor-link tsr-grp tsr-grp--category tsr-grp-theme--{settings.hometeaser.style}" data-label="{settings.hometeaser.headline}">
  <f:if condition="{settings.hometeaser.headline}">
    <f:then>
      <header class="ttl ttl--section">
        <h2 class="ttl__headline">{settings.hometeaser.headline}</h2>
      </header>
    </f:then>
  </f:if>
  <div class="tsr-grp__teasers" data-module="carousel|lazy-load" data-lazy-load-aggregate="true" data-module-options="{carousel-options -> f:format.json()}">
    <f:for each="{references}" as="reference">
      <div class="tsr-grp__teaser">
        <f:render partial="Teasers/Reference" arguments="{item:reference, settings: settings, omitLazyLoadScript: 1}" />
      </div>
    </f:for>
  </div>
  <f:if condition="{settings.hometeaser.buttonLink}">
    <section class="btc-bar">
      <h3 class="visuallyhidden">
        <f:if condition="{settings.hometeaser.buttonText}">
          <f:then>{settings.hometeaser.buttonText}</f:then>
          <f:else><f:translate key="fe.hometeaser.button.show_all" extensionName="center"/></f:else>
        </f:if>
      </h3>
      <div class="btc-bar__width-adjust">
        <f:link.typolink parameter="{settings.hometeaser.buttonLink}" class="btn btn--light">
                    <span class="btn__label">
                        <f:if condition="{settings.hometeaser.buttonText}">
                            <f:then>{settings.hometeaser.buttonText}</f:then>
                            <f:else><f:translate key="fe.hometeaser.button.show_all" extensionName="center"/></f:else>
                        </f:if>
                    </span>
        </f:link.typolink>
      </div>
    </section>
  </f:if>
</section>
</html>